{"ast":null,"code":"// ag-grid-react v30.0.4\nimport React, { memo, useContext, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { BeansContext } from '../beansContext.mjs';\nimport { AgPromise } from 'ag-grid-community';\nimport { CssClasses, isComponentStateless } from '../utils.mjs';\nimport { showJsComp } from '../jsComp.mjs';\nimport { useLayoutEffectOnce } from '../useEffectOnce.mjs';\nconst HeaderFilterCellComp = props => {\n  const {\n    context\n  } = useContext(BeansContext);\n  const [cssClasses, setCssClasses] = useState(new CssClasses('ag-header-cell', 'ag-floating-filter'));\n  const [cssBodyClasses, setBodyCssClasses] = useState(new CssClasses());\n  const [cssButtonWrapperClasses, setButtonWrapperCssClasses] = useState(new CssClasses('ag-floating-filter-button', 'ag-hidden'));\n  const [buttonWrapperAriaHidden, setButtonWrapperAriaHidden] = useState(\"false\");\n  const [userCompDetails, setUserCompDetails] = useState();\n  const eGui = useRef(null);\n  const eFloatingFilterBody = useRef(null);\n  const eButtonWrapper = useRef(null);\n  const eButtonShowMainFilter = useRef(null);\n  const userCompResolve = useRef();\n  const userCompPromise = useRef();\n  const userCompRef = value => {\n    // We skip when it's un-setting\n    if (value == null) {\n      return;\n    }\n    userCompResolve.current && userCompResolve.current(value);\n  };\n  const {\n    ctrl\n  } = props;\n  useLayoutEffectOnce(() => {\n    userCompPromise.current = new AgPromise(resolve => {\n      userCompResolve.current = resolve;\n    });\n    const compProxy = {\n      addOrRemoveCssClass: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n      addOrRemoveBodyCssClass: (name, on) => setBodyCssClasses(prev => prev.setClass(name, on)),\n      setButtonWrapperDisplayed: displayed => {\n        setButtonWrapperCssClasses(prev => prev.setClass('ag-hidden', !displayed));\n        setButtonWrapperAriaHidden(!displayed ? \"true\" : \"false\");\n      },\n      setWidth: width => {\n        if (eGui.current) {\n          eGui.current.style.width = width;\n        }\n      },\n      setCompDetails: compDetails => setUserCompDetails(compDetails),\n      getFloatingFilterComp: () => userCompPromise.current ? userCompPromise.current : null,\n      setMenuIcon: eIcon => {\n        var _a;\n        return (_a = eButtonShowMainFilter.current) === null || _a === void 0 ? void 0 : _a.appendChild(eIcon);\n      }\n    };\n    ctrl.setComp(compProxy, eGui.current, eButtonShowMainFilter.current, eFloatingFilterBody.current);\n  });\n  // js comps\n  useLayoutEffect(() => showJsComp(userCompDetails, context, eFloatingFilterBody.current, userCompRef), [userCompDetails]);\n  const className = useMemo(() => cssClasses.toString(), [cssClasses]);\n  const bodyClassName = useMemo(() => cssBodyClasses.toString(), [cssBodyClasses]);\n  const buttonWrapperClassName = useMemo(() => cssButtonWrapperClasses.toString(), [cssButtonWrapperClasses]);\n  const userCompStateless = useMemo(() => {\n    const res = userCompDetails && userCompDetails.componentFromFramework && isComponentStateless(userCompDetails.componentClass);\n    return !!res;\n  }, [userCompDetails]);\n  const reactUserComp = userCompDetails && userCompDetails.componentFromFramework;\n  const UserCompClass = userCompDetails && userCompDetails.componentClass;\n  return React.createElement(\"div\", {\n    ref: eGui,\n    className: className,\n    role: \"gridcell\",\n    tabIndex: -1\n  }, React.createElement(\"div\", {\n    ref: eFloatingFilterBody,\n    className: bodyClassName,\n    role: \"presentation\"\n  }, reactUserComp && userCompStateless && React.createElement(UserCompClass, Object.assign({}, userCompDetails.params)), reactUserComp && !userCompStateless && React.createElement(UserCompClass, Object.assign({}, userCompDetails.params, {\n    ref: userCompRef\n  }))), React.createElement(\"div\", {\n    ref: eButtonWrapper,\n    \"aria-hidden\": buttonWrapperAriaHidden,\n    className: buttonWrapperClassName,\n    role: \"presentation\"\n  }, React.createElement(\"button\", {\n    ref: eButtonShowMainFilter,\n    type: \"button\",\n    className: \"ag-button ag-floating-filter-button-button\",\n    tabIndex: -1\n  })));\n};\nexport default memo(HeaderFilterCellComp);","map":{"version":3,"names":["React","memo","useContext","useLayoutEffect","useMemo","useRef","useState","BeansContext","AgPromise","CssClasses","isComponentStateless","showJsComp","useLayoutEffectOnce","HeaderFilterCellComp","props","context","cssClasses","setCssClasses","cssBodyClasses","setBodyCssClasses","cssButtonWrapperClasses","setButtonWrapperCssClasses","buttonWrapperAriaHidden","setButtonWrapperAriaHidden","userCompDetails","setUserCompDetails","eGui","eFloatingFilterBody","eButtonWrapper","eButtonShowMainFilter","userCompResolve","userCompPromise","userCompRef","value","current","ctrl","resolve","compProxy","addOrRemoveCssClass","name","on","prev","setClass","addOrRemoveBodyCssClass","setButtonWrapperDisplayed","displayed","setWidth","width","style","setCompDetails","compDetails","getFloatingFilterComp","setMenuIcon","eIcon","_a","appendChild","setComp","className","toString","bodyClassName","buttonWrapperClassName","userCompStateless","res","componentFromFramework","componentClass","reactUserComp","UserCompClass","createElement","ref","role","tabIndex","Object","assign","params","type"],"sources":["/home/vvdn/React-practice/hello/node_modules/ag-grid-react/lib/reactUi/header/headerFilterCellComp.mjs"],"sourcesContent":["// ag-grid-react v30.0.4\nimport React, { memo, useContext, useLayoutEffect, useMemo, useRef, useState } from 'react';\nimport { BeansContext } from '../beansContext.mjs';\nimport { AgPromise } from 'ag-grid-community';\nimport { CssClasses, isComponentStateless } from '../utils.mjs';\nimport { showJsComp } from '../jsComp.mjs';\nimport { useLayoutEffectOnce } from '../useEffectOnce.mjs';\nconst HeaderFilterCellComp = (props) => {\n    const { context } = useContext(BeansContext);\n    const [cssClasses, setCssClasses] = useState(new CssClasses('ag-header-cell', 'ag-floating-filter'));\n    const [cssBodyClasses, setBodyCssClasses] = useState(new CssClasses());\n    const [cssButtonWrapperClasses, setButtonWrapperCssClasses] = useState(new CssClasses('ag-floating-filter-button', 'ag-hidden'));\n    const [buttonWrapperAriaHidden, setButtonWrapperAriaHidden] = useState(\"false\");\n    const [userCompDetails, setUserCompDetails] = useState();\n    const eGui = useRef(null);\n    const eFloatingFilterBody = useRef(null);\n    const eButtonWrapper = useRef(null);\n    const eButtonShowMainFilter = useRef(null);\n    const userCompResolve = useRef();\n    const userCompPromise = useRef();\n    const userCompRef = (value) => {\n        // We skip when it's un-setting\n        if (value == null) {\n            return;\n        }\n        userCompResolve.current && userCompResolve.current(value);\n    };\n    const { ctrl } = props;\n    useLayoutEffectOnce(() => {\n        userCompPromise.current = new AgPromise(resolve => {\n            userCompResolve.current = resolve;\n        });\n        const compProxy = {\n            addOrRemoveCssClass: (name, on) => setCssClasses(prev => prev.setClass(name, on)),\n            addOrRemoveBodyCssClass: (name, on) => setBodyCssClasses(prev => prev.setClass(name, on)),\n            setButtonWrapperDisplayed: (displayed) => {\n                setButtonWrapperCssClasses(prev => prev.setClass('ag-hidden', !displayed));\n                setButtonWrapperAriaHidden(!displayed ? \"true\" : \"false\");\n            },\n            setWidth: width => {\n                if (eGui.current) {\n                    eGui.current.style.width = width;\n                }\n            },\n            setCompDetails: compDetails => setUserCompDetails(compDetails),\n            getFloatingFilterComp: () => userCompPromise.current ? userCompPromise.current : null,\n            setMenuIcon: eIcon => { var _a; return (_a = eButtonShowMainFilter.current) === null || _a === void 0 ? void 0 : _a.appendChild(eIcon); }\n        };\n        ctrl.setComp(compProxy, eGui.current, eButtonShowMainFilter.current, eFloatingFilterBody.current);\n    });\n    // js comps\n    useLayoutEffect(() => showJsComp(userCompDetails, context, eFloatingFilterBody.current, userCompRef), [userCompDetails]);\n    const className = useMemo(() => cssClasses.toString(), [cssClasses]);\n    const bodyClassName = useMemo(() => cssBodyClasses.toString(), [cssBodyClasses]);\n    const buttonWrapperClassName = useMemo(() => cssButtonWrapperClasses.toString(), [cssButtonWrapperClasses]);\n    const userCompStateless = useMemo(() => {\n        const res = userCompDetails\n            && userCompDetails.componentFromFramework\n            && isComponentStateless(userCompDetails.componentClass);\n        return !!res;\n    }, [userCompDetails]);\n    const reactUserComp = userCompDetails && userCompDetails.componentFromFramework;\n    const UserCompClass = userCompDetails && userCompDetails.componentClass;\n    return (React.createElement(\"div\", { ref: eGui, className: className, role: \"gridcell\", tabIndex: -1 },\n        React.createElement(\"div\", { ref: eFloatingFilterBody, className: bodyClassName, role: \"presentation\" },\n            reactUserComp && userCompStateless && React.createElement(UserCompClass, Object.assign({}, userCompDetails.params)),\n            reactUserComp && !userCompStateless && React.createElement(UserCompClass, Object.assign({}, userCompDetails.params, { ref: userCompRef }))),\n        React.createElement(\"div\", { ref: eButtonWrapper, \"aria-hidden\": buttonWrapperAriaHidden, className: buttonWrapperClassName, role: \"presentation\" },\n            React.createElement(\"button\", { ref: eButtonShowMainFilter, type: \"button\", className: \"ag-button ag-floating-filter-button-button\", tabIndex: -1 }))));\n};\nexport default memo(HeaderFilterCellComp);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}