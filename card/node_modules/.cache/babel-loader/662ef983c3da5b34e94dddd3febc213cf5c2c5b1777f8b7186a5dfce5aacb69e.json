{"ast":null,"code":"// ag-grid-react v30.0.4\nimport { PopupEditorWrapper } from 'ag-grid-community';\nimport React, { useState, memo, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { BeansContext } from '../beansContext.mjs';\nimport { useLayoutEffectOnce } from '../useEffectOnce.mjs';\nconst PopupEditorComp = props => {\n  const [popupEditorWrapper, setPopupEditorWrapper] = useState();\n  const {\n    context,\n    popupService,\n    localeService,\n    gridOptionsService\n  } = useContext(BeansContext);\n  useLayoutEffectOnce(() => {\n    const {\n      editDetails,\n      cellCtrl,\n      eParentCell\n    } = props;\n    const {\n      compDetails\n    } = editDetails;\n    const useModelPopup = gridOptionsService.is('stopEditingWhenCellsLoseFocus');\n    const wrapper = context.createBean(new PopupEditorWrapper(compDetails.params));\n    const ePopupGui = wrapper.getGui();\n    if (props.jsChildComp) {\n      const eChildGui = props.jsChildComp.getGui();\n      if (eChildGui) {\n        ePopupGui.appendChild(eChildGui);\n      }\n    }\n    const positionParams = {\n      column: cellCtrl.getColumn(),\n      rowNode: cellCtrl.getRowNode(),\n      type: 'popupCellEditor',\n      eventSource: eParentCell,\n      ePopup: ePopupGui,\n      position: editDetails.popupPosition,\n      keepWithinBounds: true\n    };\n    const positionCallback = popupService.positionPopupByComponent.bind(popupService, positionParams);\n    const translate = localeService.getLocaleTextFunc();\n    const addPopupRes = popupService.addPopup({\n      modal: useModelPopup,\n      eChild: ePopupGui,\n      closeOnEsc: true,\n      closedCallback: () => {\n        cellCtrl.onPopupEditorClosed();\n      },\n      anchorToElement: eParentCell,\n      positionCallback,\n      ariaLabel: translate('ariaLabelCellEditor', 'Cell Editor')\n    });\n    const hideEditorPopup = addPopupRes ? addPopupRes.hideFunc : undefined;\n    setPopupEditorWrapper(wrapper);\n    props.jsChildComp && props.jsChildComp.afterGuiAttached && props.jsChildComp.afterGuiAttached();\n    return () => {\n      if (hideEditorPopup != null) {\n        hideEditorPopup();\n      }\n      context.destroyBean(wrapper);\n    };\n  });\n  return React.createElement(React.Fragment, null, popupEditorWrapper && props.wrappedContent && createPortal(props.wrappedContent, popupEditorWrapper.getGui()));\n};\nexport default memo(PopupEditorComp);","map":{"version":3,"names":["PopupEditorWrapper","React","useState","memo","useContext","createPortal","BeansContext","useLayoutEffectOnce","PopupEditorComp","props","popupEditorWrapper","setPopupEditorWrapper","context","popupService","localeService","gridOptionsService","editDetails","cellCtrl","eParentCell","compDetails","useModelPopup","is","wrapper","createBean","params","ePopupGui","getGui","jsChildComp","eChildGui","appendChild","positionParams","column","getColumn","rowNode","getRowNode","type","eventSource","ePopup","position","popupPosition","keepWithinBounds","positionCallback","positionPopupByComponent","bind","translate","getLocaleTextFunc","addPopupRes","addPopup","modal","eChild","closeOnEsc","closedCallback","onPopupEditorClosed","anchorToElement","ariaLabel","hideEditorPopup","hideFunc","undefined","afterGuiAttached","destroyBean","createElement","Fragment","wrappedContent"],"sources":["/home/vvdn/React-practice/hello/node_modules/ag-grid-react/lib/reactUi/cells/popupEditorComp.mjs"],"sourcesContent":["// ag-grid-react v30.0.4\nimport { PopupEditorWrapper } from 'ag-grid-community';\nimport React, { useState, memo, useContext } from 'react';\nimport { createPortal } from 'react-dom';\nimport { BeansContext } from '../beansContext.mjs';\nimport { useLayoutEffectOnce } from '../useEffectOnce.mjs';\nconst PopupEditorComp = (props) => {\n    const [popupEditorWrapper, setPopupEditorWrapper] = useState();\n    const { context, popupService, localeService, gridOptionsService } = useContext(BeansContext);\n    useLayoutEffectOnce(() => {\n        const { editDetails, cellCtrl, eParentCell } = props;\n        const { compDetails } = editDetails;\n        const useModelPopup = gridOptionsService.is('stopEditingWhenCellsLoseFocus');\n        const wrapper = context.createBean(new PopupEditorWrapper(compDetails.params));\n        const ePopupGui = wrapper.getGui();\n        if (props.jsChildComp) {\n            const eChildGui = props.jsChildComp.getGui();\n            if (eChildGui) {\n                ePopupGui.appendChild(eChildGui);\n            }\n        }\n        const positionParams = {\n            column: cellCtrl.getColumn(),\n            rowNode: cellCtrl.getRowNode(),\n            type: 'popupCellEditor',\n            eventSource: eParentCell,\n            ePopup: ePopupGui,\n            position: editDetails.popupPosition,\n            keepWithinBounds: true\n        };\n        const positionCallback = popupService.positionPopupByComponent.bind(popupService, positionParams);\n        const translate = localeService.getLocaleTextFunc();\n        const addPopupRes = popupService.addPopup({\n            modal: useModelPopup,\n            eChild: ePopupGui,\n            closeOnEsc: true,\n            closedCallback: () => { cellCtrl.onPopupEditorClosed(); },\n            anchorToElement: eParentCell,\n            positionCallback,\n            ariaLabel: translate('ariaLabelCellEditor', 'Cell Editor')\n        });\n        const hideEditorPopup = addPopupRes ? addPopupRes.hideFunc : undefined;\n        setPopupEditorWrapper(wrapper);\n        props.jsChildComp && props.jsChildComp.afterGuiAttached && props.jsChildComp.afterGuiAttached();\n        return () => {\n            if (hideEditorPopup != null) {\n                hideEditorPopup();\n            }\n            context.destroyBean(wrapper);\n        };\n    });\n    return (React.createElement(React.Fragment, null, popupEditorWrapper && props.wrappedContent\n        && createPortal(props.wrappedContent, popupEditorWrapper.getGui())));\n};\nexport default memo(PopupEditorComp);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}